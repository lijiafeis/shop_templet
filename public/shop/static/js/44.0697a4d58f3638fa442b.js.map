{"version":3,"sources":["webpack:///src/components/homePage/count.vue","webpack:///./src/components/homePage/count.vue?cd23","webpack:///./src/components/homePage/count.vue"],"names":["count","this","Date","getTime","hour","min","sec","format","timer","id","url","_this","start","end","_this2","data","pic_url","getCountTime","getCountGoods","homePage_count","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","on","click","back","_v","_s","content","_l","item","key","good_name","good_price","href","$event","rush","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2IA+BAA,0CAMA,0CAMAC,wCAEAC,gBACA,mBACAC,iBACA,oBACA,2BACA,uBACA,uBACA,iBACAC,eACAC,eACAC,QACA,8BAEAA,EAAA,gCAGAA,EAAA,0BAGAA,EAAA,eAEAC,iBAEA,sBACAC,IAEA,iDAGA,uBACAC,qBACAC,iCAGA,wBAEA,wCAIA,4BAGA,IAAAC,EAAAV,sEAEAW,wBACAC,gBACAA,+BAGA,IAAAC,EAAAb,sGAGAc,uDAEAC,wCAOAC,oBACAC,kBCzGAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,UAAeE,YAAA,qBAA+BF,EAAA,OAAYG,OAAOC,IAAAC,EAAA,QAAAC,IAAA,IAA+DC,IAAKC,MAAAX,EAAAY,QAAkBZ,EAAAa,GAAA,KAAAV,EAAA,QAAAH,EAAAa,GAAA,aAAAb,EAAAa,GAAA,KAAAV,EAAA,OAAmEE,YAAA,wBAAkCF,EAAA,QAAaE,YAAA,cAAwBL,EAAAa,GAAA,cAAAb,EAAAa,GAAA,KAAAV,EAAA,QAA8CE,YAAA,aAAuBL,EAAAa,GAAAb,EAAAc,GAAAd,EAAAe,cAAAf,EAAAa,GAAA,KAAAV,EAAA,MAAuDE,YAAA,cAAyBL,EAAAgB,GAAApC,KAAA,cAAAqC,EAAAC,GAAuC,OAAAf,EAAA,MAAgBE,YAAA,eAAyBF,EAAA,WAAgBE,YAAA,iBAA2BF,EAAA,OAAYG,OAAOC,IAAAU,EAAAtB,QAAAc,IAAA,QAA6BT,EAAAa,GAAA,KAAAV,EAAA,WAA8BE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,KAAAH,EAAAa,GAAAb,EAAAc,GAAAG,EAAAE,gBAAAnB,EAAAa,GAAA,KAAAV,EAAA,OAAmEE,YAAA,gBAA0BF,EAAA,KAAAH,EAAAa,GAAA,KAAAb,EAAAc,GAAAG,EAAAG,eAAApB,EAAAa,GAAA,KAAAV,EAAA,KAAqEG,OAAOe,KAAA,sBAA4BX,IAAKC,MAAA,SAAAW,GAAyBtB,EAAAuB,KAAAN,OAAiBjB,EAAAa,GAAA,qBAEhiCW,oBCCjB,IAcAC,EAdAjB,EAAA,OAcAkB,CACA/C,EACAmB,GATA,EAVA,SAAA6B,GACAnB,EAAA,SAaA,kBAEA,MAUAoB,EAAA,QAAAH,EAAA","file":"static/js/44.0697a4d58f3638fa442b.js","sourcesContent":["<template>\n  <div class=\"count\">\n    <header class=\"count_top header\">\n      <img src=\"../../assets/shopImage/left_icon.png\" alt=\"\" @click=\"back\">\n      <span>今日剁手价</span>\n    </header>\n    <div class=\"header count_header\">\n      <span class=\"count_tip\">距离本场结束还有</span>\n      <span class=\"time_box\">{{content}}</span>\n    </div>\n    <ul class=\"count_list\">\n      <li class=\"goods_list\" v-for=\"(item, key) in this.list\">\n        <section class=\"goods_list_l\">\n          <img :src=\"item.pic_url\" alt=\"\">\n        </section>\n        <section class=\"goods_list_r\">\n          <div class=\"goods_desc\">\n            <p>{{item.good_name}}</p>\n          </div>\n          <div class=\"goods_price\">\n            <p>¥ {{item.good_price}}</p>\n            <a href=\"javascript:void(0)\" @click=\"rush(item)\">马上抢</a>\n          </div>\n        </section>\n      </li>\n    </ul>\n\n  </div>\n</template>\n<script>\n  import { Toast } from 'mint-ui';\n  export default {\n    data(){\n      return {\n        list:[],\n        content:''\n      }\n    },\n    \n    methods:{\n      //倒计时\n      countDown(timestamp) {\n        let self = this;\n        let timer = setInterval(function () {\n          let nowTime = new Date();\n          let endTime = new Date(timestamp * 1000);\n          let t = endTime.getTime() - nowTime.getTime();\n          if (t > 0) {\n            let day = Math.floor(t / 86400000);\n            let hour = Math.floor((t / 3600000) % 24);\n            let min = Math.floor((t / 60000) % 60);\n            let sec = Math.floor((t / 1000) % 60);\n            hour = hour < 10 ? \"0\" + hour : hour;\n            min = min < 10 ? \"0\" + min : min;\n            sec = sec < 10 ? \"0\" + sec : sec;\n            let format = '';\n            if (day > 0) {\n              format = `${day}天${hour}小时${min}分${sec}秒`;\n            }\n            if (day <= 0 && hour > 0) {\n              format = `${hour}小时${min}分${sec}秒`;\n            }\n            if (day <= 0 && hour <= 0) {\n              format = `${min}分${sec}秒`;\n            }\n              self.content = format;\n          } else {\n            self.content = '本场已结束';\n            clearInterval(timer);\n          }\n        }, 1000);\n      },\n      rush(item){\n        if (this.content !== '本场已结束') {\n          let url = '/countInfo/' + item.id;\n          this.$router.push(url)\n        } else {\n          Toast({\n            message: '本场已结束,请期待下一场',\n            duration: 1000\n          });\n        }\n      },\n      back(){\n        this.$router.go(-1);\n      },\n      // 获取抢购时间\n      getCountTime(){\n        this.post('home/Shop/getQgTime', {}).then(res => {\n          let start = res.data.info.start;\n          let end = res.data.info.end;\n          this.countDown(end);\n        })\n      },\n      getCountGoods(){\n        this.post('home/Shop/getBuyShopList', {}).then(res => {\n          if(res.data.code === 10000){\n              this.list = res.data.info.data;\n              this.list.forEach(item => {\n                item.pic_url = this.imageURL(item.pic_url);\n              })\n          }\n        })\n      },\n    },\n    mounted(){\n      this.getCountTime();\n      this.getCountGoods();\n    }\n  }\n</script>\n<style scoped>\n  .header {\n    width: 100%;\n    height: 0.88rem;\n    display: flex;\n    align-items: center;\n  }\n .count_top {\n   background-color: #FFFFFF;\n   justify-content: space-around;\n }\n .count_top img {\n   width: 0.2rem;\n   margin-left: 0.4rem;\n }\n .count_top span {\n   margin-right: 0.4rem;\n   flex: 1;\n   font-size: 0.3rem;\n   color: #111111;\n   text-align: center;\n }\n  .count_header {\n    background-color: #6a594c;\n    color: #FFFFFF;\n  }\n  .count_tip {\n    margin-left: 0.4rem;\n    color: #FFFFFF;\n    font-size: 0.24rem;\n  }\n  .time_box {\n    color: #6a594c;\n    text-align: center;\n    height: 0.4rem;\n    line-height: 0.4rem;\n    background-color: #FFFFFF;\n    margin:0 0.1rem;\n    font-size: 0.28rem;\n    padding: 0 0.1rem;\n  }\n  .count_list li {\n    padding: 0.2rem;\n  }\n  .goods_list {\n    border-bottom: 1px solid #f5f5f5;\n    display: flex;\n  }\n  .goods_list_l {\n    width: 2rem;\n    padding-bottom: 2rem;\n    position: relative;\n    background-color: #FFFFFF;\n    margin-bottom: 0.2rem;\n  }\n  .goods_list_l>img {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    min-height: 100%;\n  }\n  .goods_list_r {\n    flex: 1;\n    margin-left: 0.2rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n  .goods_desc p{\n    margin-top: 0.1rem;\n    font-size: 0.27rem;\n    color: #111111;\n    word-wrap: break-word;\n  }\n  .goods_price {\n    margin-bottom: 0.2rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .goods_price p {\n    font-size: 0.32rem;\n    color: #ff6f00;\n  }\n  .goods_price a {\n    display: inline-block;\n    height: 0.42rem;\n    line-height: 0.42rem;\n    width: 1rem;\n    background-color: #ff6f00;\n    border-radius: 0.08rem;\n    color: #FFFFFF;\n    font-size: 0.24rem;\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/homePage/count.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"count\"},[_c('header',{staticClass:\"count_top header\"},[_c('img',{attrs:{\"src\":require(\"../../assets/shopImage/left_icon.png\"),\"alt\":\"\"},on:{\"click\":_vm.back}}),_vm._v(\" \"),_c('span',[_vm._v(\"今日剁手价\")])]),_vm._v(\" \"),_c('div',{staticClass:\"header count_header\"},[_c('span',{staticClass:\"count_tip\"},[_vm._v(\"距离本场结束还有\")]),_vm._v(\" \"),_c('span',{staticClass:\"time_box\"},[_vm._v(_vm._s(_vm.content))])]),_vm._v(\" \"),_c('ul',{staticClass:\"count_list\"},_vm._l((this.list),function(item,key){return _c('li',{staticClass:\"goods_list\"},[_c('section',{staticClass:\"goods_list_l\"},[_c('img',{attrs:{\"src\":item.pic_url,\"alt\":\"\"}})]),_vm._v(\" \"),_c('section',{staticClass:\"goods_list_r\"},[_c('div',{staticClass:\"goods_desc\"},[_c('p',[_vm._v(_vm._s(item.good_name))])]),_vm._v(\" \"),_c('div',{staticClass:\"goods_price\"},[_c('p',[_vm._v(\"¥ \"+_vm._s(item.good_price))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.rush(item)}}},[_vm._v(\"马上抢\")])])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-53f1a9ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/homePage/count.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-53f1a9ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./count.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./count.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./count.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-53f1a9ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./count.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-53f1a9ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/homePage/count.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}