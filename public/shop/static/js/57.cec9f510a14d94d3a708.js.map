{"version":3,"sources":["webpack:///src/components/personCenter/obligation.vue","webpack:///./src/components/personCenter/obligation.vue?3aab","webpack:///./src/components/personCenter/obligation.vue"],"names":["obligation","_this","this","id","type","then","res","info","_this2","order_type","_this3","msg","address","city","pic_url","pop","personCenter_obligation","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","on","click","back","_v","_s","content","orderInfo","order_sn","_f","create_time","seeAddress","username","telphone","_l","list","staticStyle","font-size","name","item","good_name","good_price","good_num","jifen","_e","shopmoney","display","justify-content","yunfei","cancel","pay","ref","show","payType","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/57.cec9f510a14d94d3a708.js","sourcesContent":["<template>\n    <div class=\"order\">\n      <div class=\"count_top header\">\n        <img src=\"../../assets/shopImage/left_icon.png\" alt=\"\" @click=\"back\">\n        <span>待付款</span>\n      </div>\n      <header>\n        <p class=\"order_title\">\n          <span>待付款</span>\n          <span class=\"order_font\">支付还剩{{content}}</span>\n        </p>\n        <p class=\"order_font order_m\">订单编号: {{orderInfo.order_sn}}</p>\n        <p class=\"order_font\">下单时间: {{orderInfo.create_time | time}}</p>\n      </header>\n      <div class=\"order_info\" @click=\"seeAddress\">\n        <p class=\"order_address\"><span>{{address.username}}</span> <span>{{address.telphone}}</span></p>\n        <section>\n          <p>\n            <span v-for=\"list in address.city\" style=\"font-size: 0.28rem\">\n              {{list.name}}\n            </span>\n          </p>\n          <span> > </span>\n        </section>\n      </div>\n      <div class=\"order_good\" v-for=\"item in orderInfo.detail\">\n        <section>\n          <img :src=\"item.pic_url\" alt=\"\">\n        </section>\n        <section>\n          <p class=\"good_name\">{{item.good_name}}</p>\n          <div class=\"good_num\">\n            <p class=\"good_price\">¥ {{item.good_price}}</p>\n            <p>x {{item.good_num}}</p>\n          </div>\n        </section>\n      </div>\n      <div class=\"good_way\">\n        <span v-if=\"orderInfo.order_type === 2 || orderInfo.order_type === 3\">麦粒: <strong>{{orderInfo.jifen}}</strong></span>\n        <span v-if=\"orderInfo.order_type !== 2\">实付金额: <strong>¥ {{orderInfo.shopmoney}}</strong></span>\n      </div>\n      <p class=\"leave\">\n        <span>买家留言</span>\n        <span>{{orderInfo.content}}</span>\n      </p>\n      <p class=\"leave\" style=\"display:flex;justify-content: space-between\">\n        <span>运费</span>\n        <span>¥{{yunfei}}</span>\n      </p>\n      <!--&lt;!&ndash;<count-down endTime=\"1590061620\" :callback=\"callback\" endText=\"已经结束了\"></count-down>     -->\n       <footer>\n        <p @click=\"cancel\">取消订单</p>\n        <p @click=\"pay\">支付</p>\n      </footer>\n      <pop ref=\"pop\" @show=\"payType\"></pop>\n    </div>\n</template>\n<script>\n  import { Indicator,MessageBox,Toast} from 'mint-ui';\n  import count from '../../config/count'\n  import pop from  '../common/pop'\n\n  export default {\n    data(){\n      return {\n        id:'',\n        orderInfo: {},\n        address:{},\n        content:'',\n        payInfo: {},\n        yunfei:0\n      }\n    },\n    methods:{\n      payType(val) {\n        //0 余额 1 其他\n        if (val === '0') {\n          this.post('home/Pay/payForMoney', {\n            id: this.payInfo.id,\n            type: this.payInfo.type\n          }).then(res => {\n            if (res.data.code === 10000){\n              this.$router.push('/info');\n              Toast({\n                message: res.data.info,\n                duration: 1000\n              });\n            } else {\n              Toast({\n                message: res.data.info,\n                duration: 1000\n              });\n            }\n          })\n        } else {\n          let token = localStorage.getItem('token');\n          location.href = `http://flm.yunkzx.com/home/Shop/order_pay?token=${token}&id=${this.payInfo.id}&type=${this.payInfo.type}`;\n        }\n      },\n      cancel(){\n          MessageBox.confirm('确定取消订单吗?', '').then(action => {\n            this.post('home/Order/closeOrder  ',{\n              order_id: this.id\n            }).then(res => {\n              if (res.data.code === 10000){\n                this.$router.go(-1);\n              }\n            })\n          }).catch(error => {\n\n          });\n      },\n      pay(){\n        if (this.orderInfo.order_type === 1 || this.orderInfo.order_type === 4) {\n          this.$refs.pop.value = '';\n          this.$refs.pop.popupVisible = true;\n          this.payInfo['id'] = this.orderInfo.id;\n          this.payInfo['type'] = this.orderInfo.order_type;\n        } else {\n          let token = localStorage.getItem('token');\n          location.href = `http://flm.yunkzx.com/home/Shop/order_pay?token=${token}&id=${this.orderInfo.id}&type=${this.orderInfo.order_type}`;\n        }\n      },\n      back(){\n        this.$router.go(-1);\n      },\n      seeAddress(){\n        // this.$router.push('/site')\n      },\n      getOrderInfo(id){\n        this.post('home/Order/getOrderAllInfo', {\n          order_id: id\n        }).then(res => {\n            if (res.data.code === 10000){\n                this.orderInfo = res.data.info;\n                count.countDown(res.data.info.end_time ,(msg)=>{\n                  this.content = msg;\n                });\n                this.address = res.data.info.address;\n                this.address.city = JSON.parse(res.data.info.address.city);\n                this.orderInfo.detail.forEach(item => {\n                  item.pic_url = this.imageURL(item.pic_url);\n                  this.yunfei += (item.good_yunfei-0)\n                })\n            }\n        })\n      },\n    },\n    created(){\n      this.id = this.$route.params.id;\n      this.getOrderInfo(this.id);\n    },\n    mounted(){\n\n    },\n    components: {\n        pop\n    }\n  }\n</script>\n<style scoped>\n    @import \"../../../static/order.css\";\n  @import \"../../../static/header.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/personCenter/obligation.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order\"},[_c('div',{staticClass:\"count_top header\"},[_c('img',{attrs:{\"src\":require(\"../../assets/shopImage/left_icon.png\"),\"alt\":\"\"},on:{\"click\":_vm.back}}),_vm._v(\" \"),_c('span',[_vm._v(\"待付款\")])]),_vm._v(\" \"),_c('header',[_c('p',{staticClass:\"order_title\"},[_c('span',[_vm._v(\"待付款\")]),_vm._v(\" \"),_c('span',{staticClass:\"order_font\"},[_vm._v(\"支付还剩\"+_vm._s(_vm.content))])]),_vm._v(\" \"),_c('p',{staticClass:\"order_font order_m\"},[_vm._v(\"订单编号: \"+_vm._s(_vm.orderInfo.order_sn))]),_vm._v(\" \"),_c('p',{staticClass:\"order_font\"},[_vm._v(\"下单时间: \"+_vm._s(_vm._f(\"time\")(_vm.orderInfo.create_time)))])]),_vm._v(\" \"),_c('div',{staticClass:\"order_info\",on:{\"click\":_vm.seeAddress}},[_c('p',{staticClass:\"order_address\"},[_c('span',[_vm._v(_vm._s(_vm.address.username))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.address.telphone))])]),_vm._v(\" \"),_c('section',[_c('p',_vm._l((_vm.address.city),function(list){return _c('span',{staticStyle:{\"font-size\":\"0.28rem\"}},[_vm._v(\"\\n          \"+_vm._s(list.name)+\"\\n        \")])})),_vm._v(\" \"),_c('span',[_vm._v(\" > \")])])]),_vm._v(\" \"),_vm._l((_vm.orderInfo.detail),function(item){return _c('div',{staticClass:\"order_good\"},[_c('section',[_c('img',{attrs:{\"src\":item.pic_url,\"alt\":\"\"}})]),_vm._v(\" \"),_c('section',[_c('p',{staticClass:\"good_name\"},[_vm._v(_vm._s(item.good_name))]),_vm._v(\" \"),_c('div',{staticClass:\"good_num\"},[_c('p',{staticClass:\"good_price\"},[_vm._v(\"¥ \"+_vm._s(item.good_price))]),_vm._v(\" \"),_c('p',[_vm._v(\"x \"+_vm._s(item.good_num))])])])])}),_vm._v(\" \"),_c('div',{staticClass:\"good_way\"},[(_vm.orderInfo.order_type === 2 || _vm.orderInfo.order_type === 3)?_c('span',[_vm._v(\"麦粒: \"),_c('strong',[_vm._v(_vm._s(_vm.orderInfo.jifen))])]):_vm._e(),_vm._v(\" \"),(_vm.orderInfo.order_type !== 2)?_c('span',[_vm._v(\"实付金额: \"),_c('strong',[_vm._v(\"¥ \"+_vm._s(_vm.orderInfo.shopmoney))])]):_vm._e()]),_vm._v(\" \"),_c('p',{staticClass:\"leave\"},[_c('span',[_vm._v(\"买家留言\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.orderInfo.content))])]),_vm._v(\" \"),_c('p',{staticClass:\"leave\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',[_vm._v(\"运费\")]),_vm._v(\" \"),_c('span',[_vm._v(\"¥\"+_vm._s(_vm.yunfei))])]),_vm._v(\" \"),_c('footer',[_c('p',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消订单\")]),_vm._v(\" \"),_c('p',{on:{\"click\":_vm.pay}},[_vm._v(\"支付\")])]),_vm._v(\" \"),_c('pop',{ref:\"pop\",on:{\"show\":_vm.payType}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b3e4d23\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/personCenter/obligation.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b3e4d23\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./obligation.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./obligation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./obligation.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b3e4d23\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./obligation.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b3e4d23\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/personCenter/obligation.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}